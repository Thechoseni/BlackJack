{"version":3,"sources":["CoinLayer.js"],"names":["cc","Class","extends","Component","properties","coin1","Node","coin2","coin3","coin4","coinPrefab1","Prefab","coinPrefab2","coinPrefab3","coinPrefab4","buttonDeal","buttonPour","start","coinComeOnTheStage","schedule","stopBetting","x","node","width","vv","row","firstRow","runAction","moveTo","v2","creatCoin1","hintDeal","coin","instantiate","getComponent","init","y","updateNumber","addChild","creatCoin2","creatCoin3","creatCoin4","remaining","active"],"mappings":"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","file":"CoinLayer.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\game","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        coin1: cc.Node,\r\n        coin2: cc.Node,\r\n        coin3: cc.Node,\r\n        coin4: cc.Node,\r\n        coinPrefab1: cc.Prefab,\r\n        coinPrefab2: cc.Prefab,\r\n        coinPrefab3: cc.Prefab,\r\n        coinPrefab4: cc.Prefab,\r\n        buttonDeal: cc.Node,\r\n        buttonPour: cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.coinComeOnTheStage();\r\n        this.schedule(this.stopBetting, 0.1);\r\n    },\r\n\r\n    // update (dt) {},\r\n    //代币出场\r\n    coinComeOnTheStage() {\r\n        let x = this.node.width / 8;\r\n        cc.vv.row = -3 * x;\r\n        cc.vv.firstRow = cc.vv.row;\r\n        this.coin1.runAction(cc.moveTo(0.1, cc.v2(-3 * x, 15)));\r\n        this.coin2.runAction(cc.moveTo(0.2, cc.v2(-x, 15)));\r\n        this.coin3.runAction(cc.moveTo(0.3, cc.v2(x, 15)));\r\n        this.coin4.runAction(cc.moveTo(0.4, cc.v2(3 * x, 15)));\r\n    },\r\n    //创建硬币\r\n    creatCoin1() {\r\n        this.hintDeal();\r\n        let coin = cc.instantiate(this.coinPrefab1);\r\n        coin.getComponent(\"Coin1\").init(this.coin1.x, this.coin1.y);\r\n        coin.getComponent(\"Coin1\").updateNumber();\r\n        this.node.addChild(coin);\r\n    },\r\n    creatCoin2() {\r\n        this.hintDeal();\r\n        let coin = cc.instantiate(this.coinPrefab2);\r\n        coin.getComponent(\"Coin2\").init(this.coin2.x, this.coin2.y);\r\n        coin.getComponent(\"Coin2\").updateNumber();\r\n        this.node.addChild(coin);\r\n    },\r\n    creatCoin3() {\r\n        this.hintDeal();\r\n        let coin = cc.instantiate(this.coinPrefab3);\r\n        coin.getComponent(\"Coin3\").init(this.coin3.x, this.coin3.y);\r\n        coin.getComponent(\"Coin3\").updateNumber();\r\n        this.node.addChild(coin);\r\n    },\r\n    creatCoin4() {\r\n        this.hintDeal();\r\n        let coin = cc.instantiate(this.coinPrefab4);\r\n        coin.getComponent(\"Coin4\").init(this.coin4.x, this.coin4.y);\r\n        coin.getComponent(\"Coin4\").updateNumber();\r\n        this.node.addChild(coin);\r\n    },\r\n    //余额为0时停止下注\r\n    stopBetting() {\r\n        if (cc.vv.remaining <= 0) {\r\n            this.coin1.active = false;\r\n            this.coin2.active = false;\r\n            this.coin3.active = false;\r\n            this.coin4.active = false;\r\n        }\r\n        else if (cc.vv.remaining > 0) {\r\n            this.coin1.active = true;\r\n            this.coin2.active = true;\r\n            this.coin3.active = true;\r\n            this.coin4.active = true;\r\n        }\r\n    },\r\n    //发牌提示\r\n    hintDeal() {\r\n        this.buttonDeal.runAction(cc.moveTo(0.5, cc.v2(0, 0)));\r\n        this.buttonPour.runAction(cc.moveTo(0.5, cc.v2(0, 200)));\r\n    },\r\n\r\n});\r\n"]}